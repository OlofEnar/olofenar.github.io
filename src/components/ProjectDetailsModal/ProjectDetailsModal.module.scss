@use "@/styles/variables.scss" as var;

.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, .5);
  backdrop-filter: blur(2px);
}

.content {
  position: fixed;
  inset: 0;
  margin: auto;
  width: 100%;
  max-height: 100%;
  overflow-x: hidden;
  background: #fff;
  box-shadow: 0 10px 40px rgba(0, 0, 0, .25);
  border-radius: 0;
  padding: 0; /* full-bleed on mobile */

  /* spacing tokens (used below) */
  --pad-x: 1.25rem;
  --pad-t: 1rem;
  --pad-b: 1.25rem;
  --media-h: 47dvh;
  --radius-desktop: 12px;

  @media (min-width: 768px) {
    width: 80%;
    max-height: 92vh;
    border-radius: 16px;
    padding: var(--pad-t) var(--pad-x) var(--pad-b);
  }

  @media (min-width: 1280px) {
    width: min(800px, 82vw);
  }
}

.header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--pad-t) var(--pad-x) 0;

  @media (min-width: 768px) {
    padding: 0; /* content supplies padding on desktop */
  }
}

.title {
  font-weight: 700;
  font-size: 1.25rem;
}

.close {
  background: transparent;
  border: 0;
  cursor: pointer;
  padding: .25rem;
  border-radius: 8px;
}

.media {
  width: 100%;
  height: var(--media-h);
  margin: .5rem 0;
  overflow: hidden;
  border-radius: 0; /* full-bleed on mobile */
  background: #f6f7f9;

  @media (min-width: 768px) {
    height: auto;
    aspect-ratio: 16 / 9;
    max-height: 92vh;
    border-radius: var(--radius-desktop);
  }
}

/* Embla core */
.viewport {
  overflow: hidden;
  width: 100%;
  height: 100%;
}

.container {
  display: flex;
  height: 100%;
}

.slide {
  flex: 0 0 100%;
  min-width: 0;
  height: 100%;
}

.slide img {
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover; /* fill + crop */
  object-position: center;
  background: #fff;
}

/* ===== Inner content (everything except media) ===== */
.inner {
  padding: 1rem var(--pad-x) var(--pad-b);
}

.lead {
  margin: .25rem 0 .75rem;
}

.long {
  margin: 2rem 0;
  white-space: pre-line;
}

.meta {
  display: block;
  margin-top: 2rem;
}

.links {
  display: flex;
  align-items: center;
  gap: .5rem;

  a {
    display: inline-flex;
    align-items: center;
    gap: .35rem;
    text-decoration: none;
    color: inherit;
    border: 1px solid var.$color-orange;
    padding: .35rem .6rem;
    border-radius: 8px;
  }
}

.thumbs {
  margin: .5rem 0 1rem;
}

.thumbsViewport {
  overflow: hidden;
}

.thumbsContainer {
  display: flex;
  justify-content: center;
  gap: .5rem;
}

.thumb {
  width: 92px;
  height: 64px;
  padding: 0;
  border: 1px solid #e5e7eb;
  background: #fff;
  border-radius: 8px;
  cursor: pointer;
  overflow: hidden;

  img {
    width: 100%;
    height: 100%;
    display: block;
    object-fit: cover;
  }

  &:focus-visible {
    outline: 2px solid #111827;
    outline-offset: 2px;
  }
}

.thumbActive {
  outline: none;
  box-shadow: none;
  border-color: #111827;
}

.cover img {
  width: 100%;
  height: auto;
  border-radius: 12px;
  margin: .5rem 0 1rem;
}
